[gd_scene load_steps=25 format=3 uid="uid://dsf4aknq3seh2"]

[ext_resource type="Script" path="res://maps/lattice/lattice.gd" id="1_hqs2c"]
[ext_resource type="Texture2D" uid="uid://c5duom5wl7px7" path="res://generic/tex/sky.png" id="2_1uuus"]
[ext_resource type="PackedScene" uid="uid://bcp4um4sjbyx6" path="res://lib/player/player.tscn" id="3_0m0xl"]
[ext_resource type="PackedScene" uid="uid://e0k8h1ytp7wi" path="res://lib/ui/hud/hud.tscn" id="4_gb0g0"]
[ext_resource type="AudioStream" uid="uid://bjom6nih468j8" path="res://generic/sounds/music/mus_junker.ogg" id="5_l3x1b"]
[ext_resource type="AudioStream" uid="uid://to210dowl6qk" path="res://maps/lattice/sounds/forest_ambience.ogg" id="5_ldr5m"]
[ext_resource type="Texture2D" uid="uid://dinrdf02xeqaq" path="res://generic/tex/fade_ramp.tres" id="9_clv77"]
[ext_resource type="Texture2D" uid="uid://d1fy6jygommc6" path="res://generic/tex/particles/mote.png" id="10_vpwvh"]
[ext_resource type="ArrayMesh" uid="uid://c48ccnw3gi5h4" path="res://objects/god_ray/god_ray_1.obj" id="11_vmy1k"]
[ext_resource type="PackedScene" uid="uid://djgjcyichaft4" path="res://objects/rocket/rocket.glb" id="13_8sf1c"]
[ext_resource type="Material" uid="uid://cu31l43wp5syj" path="res://objects/god_ray/mat_god_ray.tres" id="14_phhgt"]
[ext_resource type="PackedScene" uid="uid://dsf532qii5efv" path="res://characters/euclid/euclid.glb" id="15_18nhw"]
[ext_resource type="PackedScene" uid="uid://d23wqewgge7mv" path="res://objects/elevator/elevator.tscn" id="17_l4sxi"]
[ext_resource type="PackedScene" uid="uid://dfi77wxjq1u1l" path="res://maps/lattice/structure.glb" id="18_dqtp6"]
[ext_resource type="PackedScene" uid="uid://dk0s3tibcdcq0" path="res://objects/updraft/updraft.tscn" id="20_ib8vs"]

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_dbpli"]
panorama = ExtResource("2_1uuus")

[sub_resource type="Sky" id="Sky_aq0yt"]
sky_material = SubResource("PanoramaSkyMaterial_dbpli")

[sub_resource type="Environment" id="Environment_r5o54"]
background_mode = 2
sky = SubResource("Sky_aq0yt")
ambient_light_source = 2
ambient_light_color = Color(0.42, 0.36848, 0.3234, 1)
ambient_light_energy = 2.0
tonemap_mode = 2
tonemap_exposure = 2.0
glow_enabled = true
glow_levels/5 = 0.1
fog_enabled = true
fog_light_color = Color(0.122667, 0.0763775, 0.0557438, 1)
fog_sun_scatter = 0.02
fog_density = 0.02
fog_sky_affect = 0.5
fog_height = 25.0
fog_height_density = -0.1
volumetric_fog_enabled = true
volumetric_fog_density = 0.02
volumetric_fog_albedo = Color(0.873683, 0.76685, 0.723182, 1)
volumetric_fog_length = 16.0
adjustment_enabled = true
adjustment_brightness = 1.1
adjustment_saturation = 1.12

[sub_resource type="BoxShape3D" id="BoxShape3D_fuk4o"]
size = Vector3(50, 0.1, 50)

[sub_resource type="Curve" id="Curve_lstkl"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_2872j"]
curve = SubResource("Curve_lstkl")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_6f558"]
emission_shape = 3
emission_box_extents = Vector3(5, 5, 5)
initial_velocity_min = 0.05
initial_velocity_max = 0.05
gravity = Vector3(0, 0.01, 0)
scale_min = 0.5
scale_curve = SubResource("CurveTexture_2872j")
color_ramp = ExtResource("9_clv77")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_arrm5"]
transparency = 1
cull_mode = 2
vertex_color_use_as_albedo = true
albedo_texture = ExtResource("10_vpwvh")
backlight_enabled = true
backlight = Color(1, 1, 1, 1)
billboard_mode = 3
particles_anim_h_frames = 1
particles_anim_v_frames = 1
particles_anim_loop = false

[sub_resource type="PlaneMesh" id="PlaneMesh_udmxf"]
material = SubResource("StandardMaterial3D_arrm5")
size = Vector2(0.06, 0.06)
orientation = 2

[node name="Lattice" type="Node3D"]
script = ExtResource("1_hqs2c")

[node name="Sky" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_r5o54")

[node name="Sun" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.216755, -0.721685, 0.65741, -0.766422, 0.291306, 0.572485, -0.604661, -0.627942, -0.489973, 0, 6, 0)
light_color = Color(1, 0.819608, 0.639216, 1)
light_energy = 2.0
shadow_enabled = true
shadow_bias = 0.2
directional_shadow_split_1 = 0.3
directional_shadow_split_2 = 0.4
directional_shadow_split_3 = 0.7
directional_shadow_blend_splits = true
directional_shadow_pancake_size = 10.0
sky_mode = 1

[node name="Player" parent="." instance=ExtResource("3_0m0xl")]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12.9434, 1.5219, 5.51602)

[node name="HUD" parent="." instance=ExtResource("4_gb0g0")]

[node name="Music" type="AudioStreamPlayer" parent="."]
stream = ExtResource("5_l3x1b")
volume_db = -4.0
autoplay = true

[node name="Ambience" type="AudioStreamPlayer" parent="."]
stream = ExtResource("5_ldr5m")
autoplay = true

[node name="Floor" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.433279, 0)
collision_layer = 3

[node name="Collision" type="CollisionShape3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.1, 0)
shape = SubResource("BoxShape3D_fuk4o")

[node name="Motes" type="GPUParticles3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 0)
cast_shadow = 0
amount = 20
lifetime = 3.0
preprocess = 5.0
speed_scale = 0.5
visibility_aabb = AABB(-6.5899, -2.60607, -5.6187, 13.1798, 5.21214, 11.2374)
process_material = SubResource("ParticleProcessMaterial_6f558")
draw_pass_1 = SubResource("PlaneMesh_udmxf")

[node name="Rocket" parent="." instance=ExtResource("13_8sf1c")]
transform = Transform3D(-1, 0, -1.50996e-07, 0, 1, 0, 1.50996e-07, 0, -1, 0, 24.5, 12)

[node name="Spot" type="SpotLight3D" parent="Rocket"]
transform = Transform3D(-1, 1.48702e-07, -2.62202e-08, 0, -0.173648, -0.984808, -1.50996e-07, -0.984808, 0.173648, -1.05697e-06, -22, 7)
light_energy = 65.0
spot_range = 30.0
spot_angle = 30.0

[node name="Updraft" parent="." instance=ExtResource("20_ib8vs")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -17, 0, 6)

[node name="Updraft2" parent="." instance=ExtResource("20_ib8vs")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 17, 0, 6)
object_name = "updraft2"

[node name="Elevator" parent="." instance=ExtResource("17_l4sxi")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 17, 0, -7)
height = 3

[node name="Elevator2" parent="." instance=ExtResource("17_l4sxi")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -17, 0, -7)
height = 3
object_name = "elevator2"

[node name="Structure" parent="." instance=ExtResource("18_dqtp6")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 25, 10)

[node name="Structure2" parent="." instance=ExtResource("18_dqtp6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 25, -10)

[node name="GodRay1" type="MeshInstance3D" parent="."]
transform = Transform3D(3, 0, 0, 0, 3, 0, 0, 0, 3, 2.3, 27, 1.3)
cast_shadow = 0
mesh = ExtResource("11_vmy1k")
surface_material_override/0 = ExtResource("14_phhgt")

[node name="Euclid" parent="." instance=ExtResource("15_18nhw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10, 2, 6)
