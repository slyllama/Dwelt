[gd_scene load_steps=24 format=3 uid="uid://e0k8h1ytp7wi"]

[ext_resource type="PackedScene" uid="uid://dq3aqaliycowy" path="res://lib/ui/debug_pane/debug_pane.tscn" id="1_gv0re"]
[ext_resource type="Script" path="res://lib/ui/hud/hud.gd" id="1_i45xt"]
[ext_resource type="Shader" path="res://lib/ui/hud/intro_vfx.gdshader" id="2_j7o8v"]
[ext_resource type="PackedScene" uid="uid://ds7v1kxeoggbl" path="res://lib/ui/dialogue/dialogue.tscn" id="3_lcfva"]
[ext_resource type="Texture2D" uid="uid://dgkrpn8nt8pvt" path="res://generic/tex/shader_tex/laser.jpeg" id="3_r5nad"]
[ext_resource type="Texture2D" uid="uid://b5nufueq16vw0" path="res://generic/tex/shader_tex/wobble_noise.tres" id="4_q8hty"]
[ext_resource type="Script" path="res://lib/ui/hud/IntroVFX.gd" id="5_wllky"]
[ext_resource type="Theme" uid="uid://dfe36tnn0c1ud" path="res://generic/debug_theme.tres" id="6_14irq"]
[ext_resource type="Texture2D" uid="uid://chs04gxkfh3ag" path="res://lib/ui/tex/interact_overlay_glow.png" id="6_du7uc"]
[ext_resource type="Texture2D" uid="uid://8kcdl0ahju3s" path="res://lib/ui/tex/interact_overlay.png" id="6_n4mbk"]
[ext_resource type="Texture2D" uid="uid://b3aaiytpklgal" path="res://lib/ui/tex/vignette.png" id="7_wv8wl"]
[ext_resource type="Texture2D" uid="uid://bi3k2uagvaf4g" path="res://lib/ui/tex/top_menu_darken.png" id="9_0p1yl"]
[ext_resource type="Texture2D" uid="uid://dihk47hb2acqo" path="res://lib/ui/tex/icon_tool.png" id="12_ivaak"]
[ext_resource type="Texture2D" uid="uid://cpnauxmpvkcdb" path="res://lib/ui/tex/icon_tool_hover.png" id="12_u62tc"]
[ext_resource type="Texture2D" uid="uid://e7nlf6qmftkd" path="res://generic/tex/splash.png" id="14_dbdm6"]
[ext_resource type="Texture2D" uid="uid://be4uc5abqc2xp" path="res://lib/ui/tex/icon_settings.png" id="14_ypr06"]
[ext_resource type="AudioStream" uid="uid://drae5tgg8hj47" path="res://generic/hover.ogg" id="15_3x38c"]
[ext_resource type="Texture2D" uid="uid://bwi1wt5g52tle" path="res://lib/ui/tex/icon_settings_hover.png" id="15_mmhdw"]
[ext_resource type="PackedScene" uid="uid://bx5xwgdebscc6" path="res://lib/ui/settings/settings.tscn" id="19_c42st"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ulxyu"]
shader = ExtResource("2_j7o8v")
shader_parameter/base_color = Color(0, 0, 0, 1)
shader_parameter/size = 0.5
shader_parameter/exponent = 1.0
shader_parameter/darkness = 0.5
shader_parameter/overall_alpha = 1.0
shader_parameter/smoke_effect = ExtResource("3_r5nad")
shader_parameter/wobble_pattern = ExtResource("4_q8hty")

[sub_resource type="Animation" id="Animation_o35fq"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:self_modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 0)]
}

[sub_resource type="Animation" id="Animation_ghsgi"]
resource_name = "pulse"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:self_modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 1),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Color(1, 1, 1, 0), Color(1, 1, 1, 0.588235), Color(1, 1, 1, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_lwxj7"]
_data = {
"RESET": SubResource("Animation_o35fq"),
"pulse": SubResource("Animation_ghsgi")
}

[node name="HUD" type="CanvasLayer"]
script = ExtResource("1_i45xt")

[node name="IntroVFX" type="ColorRect" parent="."]
material = SubResource("ShaderMaterial_ulxyu")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
script = ExtResource("5_wllky")

[node name="Dialogue" parent="." instance=ExtResource("3_lcfva")]
layer = 2

[node name="DebugPane" parent="." instance=ExtResource("1_gv0re")]
layer = 3

[node name="Vignette" type="TextureRect" parent="."]
modulate = Color(1, 1, 1, 0.862745)
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
texture = ExtResource("7_wv8wl")
expand_mode = 1

[node name="Vignette2" type="TextureRect" parent="."]
modulate = Color(1, 1, 1, 0.745098)
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -430.0
offset_right = 430.0
offset_bottom = 244.0
grow_horizontal = 2
mouse_filter = 2
texture = ExtResource("9_0p1yl")

[node name="InteractOverlayGlow" type="TextureRect" parent="."]
self_modulate = Color(1, 1, 1, 0)
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("6_du7uc")

[node name="Anim" type="AnimationPlayer" parent="InteractOverlayGlow"]
libraries = {
"": SubResource("AnimationLibrary_lwxj7")
}

[node name="InteractOverlay" type="TextureRect" parent="."]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("6_n4mbk")

[node name="LoadBlack" type="TextureRect" parent="."]
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("14_dbdm6")

[node name="ProgressBar" type="ProgressBar" parent="LoadBlack"]
layout_mode = 1
anchors_preset = 12
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 80.0
offset_top = -135.0
offset_right = -80.0
offset_bottom = -120.0
grow_horizontal = 2
grow_vertical = 0
theme = ExtResource("6_14irq")
value = 100.0
show_percentage = false

[node name="ButtonHover" type="AudioStreamPlayer" parent="."]
stream = ExtResource("15_3x38c")

[node name="Settings" parent="." instance=ExtResource("19_c42st")]
visible = false

[node name="TopMenuBase" type="CanvasLayer" parent="."]
layer = 5

[node name="TopMenu" type="HBoxContainer" parent="TopMenuBase"]
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -44.0
offset_top = 46.0
offset_right = 44.0
offset_bottom = 78.0
grow_horizontal = 2
size_flags_horizontal = 4
size_flags_vertical = 4

[node name="DebugButton" type="TextureButton" parent="TopMenuBase/TopMenu"]
layout_mode = 2
focus_mode = 0
texture_normal = ExtResource("12_ivaak")
texture_hover = ExtResource("12_u62tc")

[node name="Pad" type="ColorRect" parent="TopMenuBase/TopMenu"]
custom_minimum_size = Vector2(16, 0)
layout_mode = 2
color = Color(1, 1, 1, 0)

[node name="SettingsButton" type="TextureButton" parent="TopMenuBase/TopMenu"]
layout_mode = 2
focus_mode = 0
texture_normal = ExtResource("14_ypr06")
texture_hover = ExtResource("15_mmhdw")

[connection signal="mouse_entered" from="TopMenuBase/TopMenu/DebugButton" to="." method="_mouseover"]
[connection signal="pressed" from="TopMenuBase/TopMenu/DebugButton" to="." method="_on_debug_button_pressed"]
[connection signal="mouse_entered" from="TopMenuBase/TopMenu/SettingsButton" to="." method="_mouseover"]
[connection signal="pressed" from="TopMenuBase/TopMenu/SettingsButton" to="." method="_on_settings_button_pressed"]
